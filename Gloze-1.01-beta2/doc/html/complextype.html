<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Gloze: complexType</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="components.html">Schema Components</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="complexType">complexType </a></h1><p>The only complex type predefined in XML schema is anyType, the default type for elements, and a super-class of any user-defined type. The nearest analogue is RDF Resource. User defined complex types correspond to OWL classes which may be anonymous, globally qualified by the target namespace, or locally named and defined in a default namespace. For complex types with mixed or simple content, we model these as restrictions on its RDF value.</p>
<p>Global, named complex types are defined in the target namespace. The following schema defines a complex type, &lt;<a href="http://example.org/Foo">http://example.org/Foo</a>&gt;.</p>
<div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;
&lt;xs:schema xmlns:xs=<span class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> targetNamespace=<span class="stringliteral">&quot;http://example.org/&quot;</span> &gt;
        &lt;xs:complexType name=<span class="stringliteral">&quot;Foo&quot;</span> /&gt;
&lt;/xs:schema&gt;
</pre></div> <div class="fragment"><pre class="fragment">@prefix ns2:     &lt;http:<span class="comment">//example.org/&gt; .</span>
@prefix rdfs:    &lt;http:<span class="comment">//www.w3.org/2000/01/rdf-schema#&gt; .</span>
@prefix ns1:     &lt;http:<span class="comment">//example.org/def/&gt; .</span>
@prefix xs_:     &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema#&gt; .</span>
@prefix owl:     &lt;http:<span class="comment">//www.w3.org/2002/07/owl#&gt; .</span>
@prefix xsd:     &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema#&gt; .</span>
@prefix rdf:     &lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</span>
@prefix xs:      &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema&gt; .</span>

ns2:Foo
      a       owl:Class .

&lt;http:<span class="comment">//example.org/complexType1.owl&gt;</span>
      a       owl:Ontology .
</pre></div><p>If the target namespace ends with an alpha-numeric, a fragment separator '#' is introduced.</p>
<p>For locally defined elements we derive value (OWL allValuesFrom) restrictions from their type. A complex type defines a content model (particle) for element content. For global elements the type is set by the property range. The Russian Doll style of schema mirrors the structure of the XML instance document. Short on references to global definitions, we see attributes &amp; elements defined in-situ (locally), where names are easily recycled. We might foresee a problem with different appearances of an element within the particle having different types. However, the Element Declarations Consistent constraint limits elements within the same particle to be of the same type. This permits us to construct an allValuesFrom restriction based only on the first appearance of an element within a particle.</p>
<p>This example also shows the definition of a property range based on an anonymous complex type. It also shows how simple content is captured in the form of an rdf:value. In this case the element value can appear at most once. If the element is empty the value isn't added.</p>
<div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;
&lt;xs:schema xmlns:xs=<span class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> targetNamespace=<span class="stringliteral">&quot;http://example.org/&quot;</span> &gt;
        &lt;xs:element name=<span class="stringliteral">&quot;foo&quot;</span>&gt;
                &lt;xs:complexType&gt;
                        &lt;xs:simpleContent&gt;
                                &lt;xs:restriction base=<span class="stringliteral">&quot;xs:string&quot;</span>/&gt;
                        &lt;/xs:simpleContent&gt;
                &lt;/xs:complexType&gt;
        &lt;/xs:element&gt;
&lt;/xs:schema&gt;
</pre></div> <div class="fragment"><pre class="fragment">@prefix ns2:     &lt;http:<span class="comment">//example.org/&gt; .</span>
@prefix rdfs:    &lt;http:<span class="comment">//www.w3.org/2000/01/rdf-schema#&gt; .</span>
@prefix ns1:     &lt;http:<span class="comment">//example.org/def/&gt; .</span>
@prefix xs_:     &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema#&gt; .</span>
@prefix owl:     &lt;http:<span class="comment">//www.w3.org/2002/07/owl#&gt; .</span>
@prefix xsd:     &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema#&gt; .</span>
@prefix rdf:     &lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</span>
@prefix xs:      &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema&gt; .</span>

rdf:value
      a       rdf:Property , owl:DatatypeProperty .

&lt;http:<span class="comment">//example.org/complexType2.owl&gt;</span>
      a       owl:Ontology .

ns2:foo
      a       owl:ObjectProperty ;
      rdfs:range
              [ a       owl:Class ;
                rdfs:subClassOf
                        [ a       owl:Restriction ;
                          owl:cardinality <span class="stringliteral">&quot;1&quot;</span>^^xs_:int ;
                          owl:onProperty rdf:value
                        ] ;
                rdfs:subClassOf
                        [ a       owl:Restriction ;
                          owl:allValuesFrom xs_:string ;
                          owl:onProperty rdf:value
                        ]
              ] .
</pre></div><p>Instances of this in both XML and RDF are as follows:</p>
<div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;
&lt;foo xmlns=<span class="stringliteral">&quot;http://example.org/&quot;</span>&gt;foobar&lt;/foo&gt;
</pre></div> <div class="fragment"><pre class="fragment">@prefix ns2:     &lt;http:<span class="comment">//example.org/&gt; .</span>
@prefix ns1:     &lt;http:<span class="comment">//example.org/def/&gt; .</span>
@prefix xs_:     &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema#&gt; .</span>
@prefix rdf:     &lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</span>
@prefix xs:      &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema&gt; .</span>

&lt;http:<span class="comment">//example.org/complexType2.xml&gt;</span>
      ns2:foo [ rdf:value <span class="stringliteral">&quot;foobar&quot;</span>^^xs_:string
              ] .
</pre></div><p>We may add attributes to a complex type either directly as in the example below (or as part of an attribute group), or within nested restrictions or extensions.</p>
<div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;
&lt;xs:schema xmlns:xs=<span class="stringliteral">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> targetNamespace=<span class="stringliteral">&quot;http://example.org/&quot;</span> &gt;
        &lt;xs:complexType name=<span class="stringliteral">&quot;Foo&quot;</span>&gt;
                &lt;xs:attribute name=<span class="stringliteral">&quot;bar&quot;</span> type=<span class="stringliteral">&quot;xs:string&quot;</span> /&gt;
        &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;
</pre></div><p>The attribute 'bar' is unqualified, so the corresponding property is defined in the default namespace (xmlns=http://example.org/def/).</p>
<div class="fragment"><pre class="fragment">@prefix ns2:     &lt;http:<span class="comment">//example.org/&gt; .</span>
@prefix rdfs:    &lt;http:<span class="comment">//www.w3.org/2000/01/rdf-schema#&gt; .</span>
@prefix ns1:     &lt;http:<span class="comment">//example.org/def/&gt; .</span>
@prefix xs_:     &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema#&gt; .</span>
@prefix owl:     &lt;http:<span class="comment">//www.w3.org/2002/07/owl#&gt; .</span>
@prefix xsd:     &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema#&gt; .</span>
@prefix rdf:     &lt;http:<span class="comment">//www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</span>
@prefix xs:      &lt;http:<span class="comment">//www.w3.org/2001/XMLSchema&gt; .</span>

ns2:Foo
      a       owl:Class ;
      rdfs:subClassOf
              [ a       owl:Restriction ;
                owl:allValuesFrom xs_:string ;
                owl:onProperty ns1:bar
              ] ;
      rdfs:subClassOf
              [ a       owl:Restriction ;
                owl:maxCardinality <span class="stringliteral">&quot;1&quot;</span>^^xs_:int ;
                owl:onProperty ns1:bar
              ] .

&lt;http:<span class="comment">//example.org/complexType3.owl&gt;</span>
      a       owl:Ontology .

ns1:bar
      a       rdf:Property , owl:DatatypeProperty .
</pre></div><p>We can add structured content to a complex type, using the compositors, 'all', 'choice', 'sequence', and sometimes 'group'. These don't add any nested structure to the class itself but are used to determine the cardinalities of any added properties.</p>
<h2><a class="anchor" id="complexTypeChildren">
Child components</a></h2>
<ul>
<li><a class="el" href="simplecontent.html">simpleContent</a></li>
<li><a class="el" href="complexcontent.html">complexContent</a></li>
<li><a class="el" href="group.html">group</a></li>
<li><a class="el" href="all.html">all</a></li>
<li><a class="el" href="choice.html">choice</a></li>
<li><a class="el" href="sequence.html">sequence</a></li>
<li><a class="el" href="attribute.html">attribute</a></li>
<li><a class="el" href="attributegroup.html">attributeGroup</a></li>
<li><a class="el" href="anyattribute.html">anyAttribute</a></li>
<li><a class="el" href="annotation.html">annotation</a> </li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Oct 28 15:42:50 2009 for Gloze by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
